@using WebApplication3.Helper

@{
    var calls = ViewData["calls"] as List<CallWithCustomerInfo>;
}

<style>
    table {
        border-collapse: collapse;
        width: 100%;
        margin-top: 20px;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    th {
        background-color: #f2f2f2;
    }

    tbody tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    tbody tr:hover {
        background-color: #f5f5f5;
    }

    p {
        color: #555;
        font-size: 16px;
        margin-top: 20px;
    }
    .btn {
        display: inline-block;
        padding: 15px; /* Adjust the padding to make it larger or smaller */
        margin: 10px; /* Adjust the margin for spacing between links */
        background-color: #3498db; /* Set the background color */
        color: #fff; /* Set the text color */
        text-decoration: none; /* Remove the default underline */
        border-radius: 10px; /* Add rounded corners */
        font-size: 18px; /* Set the font size */
        }

  
    .btn:nth-child(2) {
        background-color: #e74c3c; /* Change the background color for the second link */
    }
</style>


   
<h2>Manage Calls</h2>

<a href="/dashboard">Back to DashBoard</a>

@if (calls != null && calls.Any())
{<a class="btn " href="/">Add New Customer</a>
   <table class="table">
       <thead>
           <tr>
               <th>Customer No</th>
               <th>Date of Call</th>
               <th>Time of Call,</th>
               <th>Subject,</th>
               <th>Description</th>
               <th>Actions</th>
           </tr>
       </thead>
       <tbody>
       @foreach (CallWithCustomerInfo call in Model.Calls)
       {
           <tr>
               <td>@call.CustomerId</td>
               <td>@call.DateOfCall</td>
               <td>@call.TimeOfCall</td>
               <td>@call.Subject</td>
               <td>@call.Description)</td>
               <td>
                   @Html.ActionLink("Edit", "EditCalls", new { id = call.CallID }) |
                   @Html.ActionLink("Delete", "DeleteCall", new { id = call.CallID }, new { onclick = "return confirm('Are you sure you want to delete this Call?');" })
               </td>
           </tr>
       }
       </tbody>
   </table>
   
   <nav aria-label="Page navigation">
         <ul class="pagination">
             @for (int i = 1; i <= Model.PageCount; i++)
             {
                 <li class="page-item @(Model.CurrentPage == i ? "active" : "")">
                    <a class="page-link" href="/CustomerCalls?page=@i">@i</a>
                 </li>
             }
         </ul>
     </nav>


}
else
{
    <p>No Calls data available.</p>
}
